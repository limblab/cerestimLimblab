%wrapper script for testStim that will set a list of pulse-shapes and
%interpulse intervals for testing the ability of the stim-record system

% pulseWidthList=[...
%                 100,100;...
%                 100,100;...
%                 400,100;...
%                 390,100;...
%                 395,100;...
%                 405,100;...
%                 410,100;...
%                 400,90;...
%                 400,95;...
%                 400,105;...
%                 400,110;
%                 ];
%         pulseWidthList = repmat(pulseWidthList,10,1);
% pulseAmpList=[  ...
%                 100,100;...
%                 100,100;...
%                 25,100;...
%                 25,100;...
%                 25,100;...
%                 25,100;...
%                 25,100;...
%                 25,100;...
%                 25,100;...
%                 25,100;...
%                 25,100;...
%                 ];
%     pulseAmpList = [5,5;...
%         15,15;...
%         25,25;...
%         35,35;...
%         45,45;...
%         55,55;...
%         65,65;...
%         75,75;...
%         85,85;...
%         95,95];   
pulseWidthList = [200,200];     
pulseAmpList = [40,40];
polList = [0];
chanList = [13];
nomFreq=330;
nTests=330;

% polList = [0,1,1,1,1,1,1,1,1,1,1]; % 0 = cathodal;
% injectedSignalDelayList = [0.3:0.1:1.2];
% injectedSignalDelayList = 0] + sum(pulseWidthList)/1000;
% interpulseList = [20000];
interpulseList = 53;
prefix='Crackle_2018115_';
folder='C:\data\stimTesting\Crackle_20181115\';

interphase=53;
nPulses=1; % should almost always be 1. nTests sets train lengthand t


% for k = 1:numel(injectedSignalDelayList)
%     signalDelay = injectedSignalDelayList(k);
    for m=1:numel(interpulseList)
        for j=1:size(pulseAmpList,1)
            pol = polList(j);
            pWidth1=pulseWidthList(j,1)%in us
            amp1=pulseAmpList(j,1)%in uA
            pWidth2=pulseWidthList(j,2)%in us
            amp2=pulseAmpList(j,2)%in uA
            interpulse=interpulseList(m)
            testStim
        end
    end
% end
